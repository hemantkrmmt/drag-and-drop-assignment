{"version":3,"sources":["VideoBox.jsx","App.js","reportWebVitals.js","index.js"],"names":["style","width","height","backgroundColor","position","style2","url","VideoBox","props","onVideoClick","state","isDragHappened","isPlaying","videoRef","current","pause","play","onResize","setTimeout","setPositionAfterDrop","onDragStart","event","shiftX","clientX","touches","getBoundingClientRect","left","shiftY","clientY","top","setState","pageX","pageY","right","bottom","isDragging","onDrag","onDragEnd","window","parentHeight","innerHeight","newTop","newLeft","newRight","newBottom","innerWidth","React","createRef","bind","addEventListener","this","removeEventListener","ref","onClick","onMouseMove","onMouseDown","onMouseUp","onTouchStart","onTouchEnd","onTouchMove","src","type","Component","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1ab5a146.chunk.js","sourcesContent":["    import React from 'react';\r\n\r\nconst style = {\r\n    width: '200px',\r\n    height: '300px',\r\n    backgroundColor: '#000',\r\n    position: 'absolute',\r\n};\r\n\r\nconst style2 = {\r\n    height: '100vh',\r\n    width: '100%',\r\n    position: 'relative',\r\n}\r\n\r\nconst url = \"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4\";\r\n\r\nclass VideoBox extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.videoRef = React.createRef();\r\n        this.isPlaying = false;\r\n        this.state = {\r\n            left: 0,\r\n            top: 0,\r\n            right: 'auto',\r\n            bottom: 'auto',\r\n            shiftX: 0,\r\n            shiftY: 0,\r\n            isDragging: false,\r\n            isDragHappened: false,\r\n        };\r\n        this.onResize = this.onResize.bind(this);\r\n    }\r\n\r\n    componentDidMount () {\r\n        window.addEventListener(\"resize\", this.onResize);\r\n        window.addEventListener(\"mouseup\", this.onDragEnd);\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        window.removeEventListener(\"resize\", this.onResize);\r\n        window.removeEventListener(\"mouseup\", this.onDragEnd);\r\n    }\r\n\r\n    onVideoClick = () => {\r\n        if (!this.state.isDragHappened) {\r\n            this.isPlaying ? this.videoRef.current.pause() : this.videoRef.current.play();\r\n            this.isPlaying = !this.isPlaying;\r\n        }\r\n    }\r\n\r\n    onResize = () => {\r\n        setTimeout(this.setPositionAfterDrop, 10);\r\n    }\r\n\r\n    onDragStart = (event) => {\r\n        const shiftX = (event.clientX || event.touches[0].clientX) - this.videoRef.current.getBoundingClientRect().left;\r\n        const shiftY = (event.clientY || event.touches[0].clientY) - this.videoRef.current.getBoundingClientRect().top;\r\n        this.setState({\r\n            left: (event.pageX || event.touches[0].pageX) - shiftX,\r\n            top: (event.pageY || event.touches[0].pageY) - shiftY,\r\n            right: 'auto',\r\n            bottom: 'auto',\r\n            shiftX,\r\n            shiftY,\r\n            isDragging: true,\r\n            isDragHappened: false,\r\n        });\r\n    }\r\n\r\n    onDrag = (event) => {\r\n        if (this.state.isDragging) {\r\n            if (this.isPlaying) {\r\n                this.isPlaying = false;\r\n                this.videoRef.current.pause();\r\n            }\r\n            this.setState(({ shiftX, shiftY }) => ({\r\n                left: (event.pageX || event.touches[0].pageX) - shiftX,\r\n                top: (event.pageY || event.touches[0].pageY) - shiftY,\r\n                right: 'auto',\r\n                bottom: 'auto',\r\n                isDragHappened: true,\r\n            }));\r\n        }\r\n    }\r\n\r\n    onDragEnd = (event) => {\r\n        this.setState({ isDragging: false }, this.setPositionAfterDrop);\r\n    }\r\n\r\n    setPositionAfterDrop = () => {\r\n        const { top, left, right, bottom } = this.videoRef.current.getBoundingClientRect();\r\n        const { innerHeight: parentHeight, innerWidth: parentWidth } = window;\r\n        let newTop = 'auto';\r\n        let newLeft = 'auto';\r\n        let newRight = 'auto';\r\n        let newBottom = 'auto';\r\n        const rightAfterVideoEl = parentWidth - right;\r\n        const bottomBelowVideoEl = parentHeight - bottom;\r\n        if (left < rightAfterVideoEl) {\r\n            newLeft = 0;\r\n        } else {\r\n            newRight = 0;\r\n        }\r\n        if (top < bottomBelowVideoEl) {\r\n            newTop = 0;\r\n        } else {\r\n            newBottom = 0;\r\n        }\r\n        this.setState({ left: newLeft, top: newTop, right: newRight, bottom: newBottom });\r\n    };\r\n\r\n    render () {\r\n        const { top, left, right, bottom } = this.state;\r\n        return (\r\n            <div style={style2}>\r\n                <video\r\n                    style={{...style, top, left, right, bottom}}\r\n                    ref={this.videoRef}\r\n                    onClick={this.onVideoClick}\r\n                    onMouseMove={this.onDrag}\r\n                    onMouseDown={this.onDragStart}\r\n                    onMouseUp={this.onDragEnd}\r\n                    onTouchStart={this.onDragStart}\r\n                    onTouchEnd={this.onDragEnd}\r\n                    onTouchMove={this.onDrag}\r\n                >\r\n                    <source src={url} type=\"video/mp4\" />\r\n                    <source src={url} type=\"video/ogg\" />\r\n                    Your browser does not support the video tag.\r\n                </video>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default VideoBox;\r\n\r\n","import './App.css';\nimport React, { Component } from 'react';\nimport VideoBox from './VideoBox';\n\nexport default class App extends Component {\n  render() {\n    return (\n      <VideoBox />\n    );\n  }\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}